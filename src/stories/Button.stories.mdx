import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { moduleMetadata } from "@storybook/angular";
import { ButtonComponent } from "../../projects/rustic/src/lib/button/button.component";
import { ThemeModule } from "../../projects/rustic/src/lib/theme/theme.module";
import { CommonModule } from "@angular/common";
import { lightTheme, darkTheme } from "../themes.ts";

<Meta
  title="Components/Button"
  component={ButtonComponent}
  decorators={[
    moduleMetadata({
      declarations: [ButtonComponent],
      imports: [
        CommonModule,
        ThemeModule.forRoot({
          themes: [lightTheme, darkTheme],
          active: "light",
        }),
      ],
    }),
  ]}
  argTypes={{
    type: {
      options: ["primary", "secondary", "warning"],
      control: { type: "radio" },
    },
    size: {
      options: ["small", "medium", "large"],
      control: { type: "radio" },
    },
  }}
/>

# Buttons

export const Template = (args) => ({
  component: ButtonComponent,
  props: {
    propInput: {
      type: args.type,
      size: args.size,
    },
  },
  template: `<cis-button [type]="propInput.type" [size]="propInput.size"> Hello World </cis-button>`,
});

export const IconTemplate = (args) => ({
  component: ButtonComponent,
  props: {
    propInput: {
      type: args.type,
      size: args.size,
    },
  },
  template: `<cis-button [type]="propInput.type" [size]="propInput.size">
  <i><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg></i>
  </cis-button>`,
});

<Canvas>
  <Story
    name="Primary Button"
    args={{
      type: "primary",
      size: "medium",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```html
<cis-button type="primary" size="medium"> Hello World </cis-button>
```

<ArgsTable story="Primary Button" />

<Canvas>
  <Story
    name="Secondary Button"
    args={{
      type: "secondary",
      size: "medium",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Warning Button"
    args={{
      type: "warning",
      size: "medium",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Icon Button

It works the same as Regular button. Only condition is that any content wrapped by `<cis-button></cis-button>` should also be wrapped by `<i></i>` first.

<Canvas>
  <Story
    name="Icon Button"
    args={{
      type: "primary",
      size: "medium",
    }}
  >
    {IconTemplate.bind({})}
  </Story>
</Canvas>

```html
<cis-button type="primary" size="medium">
  <i>
    <svg
      stroke="currentColor"
      fill="none"
      stroke-width="2"
      viewBox="0 0 24 24"
      stroke-linecap="round"
      stroke-linejoin="round"
      height="1em"
      width="1em"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
      <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
    </svg>
  </i>
</cis-button>
```
